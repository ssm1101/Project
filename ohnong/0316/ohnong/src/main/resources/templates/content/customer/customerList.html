<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layout/layoutMagement}">

<head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.10/dist/sweetalert2.min.js"></script>
  <meta charset="UTF-8">
  <title>oh-nong!</title>
  <style type="text/css">
    /* Chrome, Safari, Edge, Opera */
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    /* Firefox  */
    input[type='number'] {
      -moz-appearance: textfield;
    }

    .left-box {
      float: left;
      width: 50%;
    }

    .right-box {
      float: right;
      width: 50%;
    }
    .form-group {
      width: 350px !important;
    }
    
    .form-control{
      font-size: 13px;
	  color: #222222;
	  width: 320px;
	  border: none;
	  border-bottom: solid #aaaaaa 1px;
	  padding-left: 10px;
	  position: relative;
	  background: none;
	  z-index: 5;
     }
     
    .table-td {
      text-align:center;
      font-weight:bold;
    }     
  </style>
</head>
</th:block>
<th:block layout:fragment="script">
</th:block>
<div layout:fragment="contentMagement">
  <!-- page content -->
  <div class="right_col" role="main">
    <div class="">
      <div class="page-title">
        <div class="title_left">
        </div>

      </div>

      <div class="clearfix"></div>

      <div class="row" style="display: block;">

        <div class="clearfix"></div>

        <div class="col-md-12 col-sm-12  ">
         <h3 style="text-align:left"><b>ğŸ›’ ê±°ë˜ì²˜ ê´€ë¦¬</b></h3>
          <div class="x_panel">
            <div class="x_title">
              <ul class="nav navbar-right panel_toolbox">
                <button type="button" id="button" class="btn btn-primary antosubmit" style="float:right; padding: 8px 20px;background-color:#2A3F54;border: none;"><b>ë“±ë¡</b></button>
              </ul>
              <div class="clearfix"></div>
            </div>

            <div class="x_content">

              <div class="table-responsive">
                <table class="table table-striped jambo_table bulk_action">
                  <thead>
                    <tr class="headings">
                      <th>
                        <input type="checkbox" id="check-all" class="flat">
                      </th>
                      <th class="column-title table-td">No. </th>
                      <th class="column-title table-td">ìƒí˜¸ëª… </th>
                      <th class="column-title table-td">ëŒ€í‘œëª…(ì´ë¦„) </th>
                      <th class="column-title table-td">ë‹´ë‹¹ì(ì´ë¦„) </th>
                      <th class="column-title table-td">ì—°ë½ì²˜ </th>
                      <th class="column-title table-td">ì£¼ì†Œ </th>
                      <th class="column-title table-td">ì˜ˆê¸ˆì£¼ </th>
                      <th class="column-title table-td">ì€í–‰ëª… </th>
                      <th class="column-title table-td">ê³„ì¢Œë²ˆí˜¸ </th>
                      <th class="column-title table-td">ë©”ëª¨ </th>
                      <th class="column-title table-td">ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ </th>
                      <th class="column-title table-td">ëŒ€í‘œ í’ˆëª© </th>
                      <th class="bulk-actions" colspan="7">
                        <a class="antoo" style="color:#fff; font-weight:500;">Bulk Actions ( <span class="action-cnt">
                          </span> ) <i class="fa fa-chevron-down"></i></a>
                      </th>
                    </tr>
                  </thead>

                  <tbody class="farm">
                    <tr class="even pointer" th:each="customerList : ${customerList }" th:onclick="updateForm()">
                      <td class="a-center ">
                        <input type="checkbox" class="flat" name="table_records">
                      </td>
                      <td class=" " th:text="${customerList.userId}" style="display:none"></td>
                      <td class=" " th:text="${customerList.customerId}" style="display:none"></td>
                      
                      <td class="table-td " th:text="${customerList.rn}"></td>
                      <td class="table-td " id="customer" th:text="${customerList.customer}"></td>
                      <td class="table-td " th:text="${customerList.customerName}"></td>
                      <td class="table-td " th:text="${customerList.managerName}"></td>
                      <td class="table-td " th:text="${customerList.customerTel}"></td>
                      <td class="table-td " th:text="${customerList.customerAddr}"></td>
                      <td class="table-td " th:text="${customerList.accountName}"></td>
                      <td class="table-td " th:text="${customerList.bankName}"></td>
                      <td class="table-td " th:text="${customerList.accountNum}"></td>
                      <td class="table-td " th:text="${customerList.memo}"></td>
                      <td class="table-td " th:text="${customerList.registNum}"></td>
                      <td class="table-td " th:text="${customerList.middlecatagori}" style="display:none"></td>
                      <td class="table-td " th:text="${customerList.subdivision}"></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- /page content -->

  <!-- insert modal 1 : ìˆ˜ì •/ ì‚­ì œ-->
  <div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <form name="form1" th:role="form" th:action="@{customerList}" method="POST">
      <div class="modal-content" style="border: none;">
        <div class="modal-header" style="display: flex; align-items: center; justify-content: space-between; width:100%;height:50px; background-color: #2A3F54;">
          	<h5 class="modal-title" id="myModalLabel" style="color:white; font-weight: bold; ">ğŸ›’ ê±°ë˜ì²˜ ìˆ˜ì •</h5>
          	<button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:white;">Ã—</button>
        </div>
        <div class="modal-body">
          <div class="left-box">
          <input type="hidden" class="form-control" name="userId" id="userId" value="" />
          <input type="hidden" class="form-control" name="customerId" id="customerId" value="" />
            <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ìƒí˜¸ëª…</label>
              <input class="form-control" name="customer" id="customer" value="">
            </div>
            
            <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ë‹´ë‹¹ì(ì´ë¦„)</label>
              <input class="form-control" name="managerName" id="managerName" value="">
            </div>
             <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ëŒ€í‘œ í’ˆëª©</label>
              <input class="form-control" id="middlecatagori" name="middlecatagori" value="" style="display:none;">
              <select id="flag" th:onchange="changeSelect()" style="border-radius: 4px; height: 25px; font-weight: bold;">
                <option value="">ğŸŒ¾ ë¶„ë¥˜ ì„ íƒ</option>
                <option th:value="ê³¡ë¥˜" >ê³¡ë¥˜</option>
                <option th:value="ì½©ë¥˜" >ì½©ë¥˜</option>
                <option th:value="êµ¬ê·¼ë¥˜" >êµ¬ê·¼ë¥˜</option>
                <option th:value="ì±„ì†Œë¥˜" >ì±„ì†Œë¥˜</option>
                <option th:value="ê³¼ì‹¤ë¥˜" >ê³¼ì‹¤ë¥˜</option>
                <option th:value="ì¢…ì‹¤ë¥˜" >ì¢…ì‹¤ë¥˜</option>
                <option th:value="ë²„ì„¯ë¥˜" >ë²„ì„¯ë¥˜</option>
              </select>
              <input class="form-control" name="subdivision" id="subdivision" value="">
              
            </div>
            <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ì˜ˆê¸ˆì£¼</label>
              <input class="form-control" name="accountName" id="accountName" value="">
            </div>
            
             <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ì‚¬ì—…ìë²ˆí˜¸</label>
              <input class="form-control" name="registNum" id="registNum" value="">
            </div>
          </div>
          <div class="right-box">
          	<div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ëŒ€í‘œëª…(ì´ë¦„)</label>
              <input class="form-control" name="customerName" id="customerName" value="">
            </div>
            <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;"> ì—°ë½ì²˜</label>
              <input class="form-control" name="customerTel" id="customerTel" value="">
            </div>
            <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ì€í–‰ëª…</label>
              <input class="form-control" name="bankName" id="bankName" value="">
            </div>
            <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ê³„ì¢Œë²ˆí˜¸</label>
              <input class="form-control" name="accountNum" id="accountNum" value="">
            </div>
            <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ë©”ëª¨</label>
              <input class="form-control" name="memo" id="memo" value="">
            </div>
          </div>
          <div class="form-group">
              <label style="color:black; margin-left: 5px; font-size: 14px; font-weight: bold;">ì£¼ì†Œ</label>
              <input class="form-control" name="customerAddr" id="customerAddr" value="" style ="width:700px;">
            </div>
        </div>
        
        <div class="modal-footer" style="display: flex; align-items: center; justify-content: flex-end; width:100%;height:50px; background-color: #2A3F54;">
          <button id="modalModBtn" type="button" class="btn btn-warning" style="border: none; font-weight: bold; color:white; background: #035785; height: 30px;">ìˆ˜ ì •</button>
          <button id="modalRemoveBtn" type="button" class="btn btn-danger" style="border: none; font-weight: bold; color:white; background: #035785; height: 30px;">ì‚­ ì œ</button>
        </div>
      </div>
    </form>
    </div>
  </div>
  <!-- /insert modal -->
  <!-- insert modal 2 : ë“±ë¡-->
  <div id="myModal2" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <form name="form2" th:role="form" th:action="@{customerAdd}" method="POST">
      <div class="modal-content" style="border: none;">
        <div class="modal-header" style="display: flex; align-items: center; justify-content: space-between; width:100%;height:50px; background-color: #2A3F54;">
 			   <h5 class="modal-title" id="myModalLabel" style="color:white; font-weight: bold; ">ğŸ›’ ê±°ë˜ì²˜ ë“±ë¡</h5>
    			<button type="button" class="close" data-dismiss="modal" aria-hidden="true" style="color:white; ">Ã—</button>
          <input class="form-control" type="hidden" id="userId2" name="userId" th:value="${session.login.userId}"  style="width:100px;"/>
        </div>
        <div class="modal-body">
          <div class="left-box" >
            <div class="form-group">
              <label style="font-weight: bold"><span style="color:red; font-size: 15px;">âœ”</span><span style="color:black; margin-left: 5px; font-size: 14px;">ìƒí˜¸ëª…</span></label>
              <input class="form-control" name="customer" id="customer2" value="" placeholder="í•„ìˆ˜ ì…ë ¥">
            </div>
            <div class="form-group">
              <label style="font-weight: bold"><span style="color:red; font-size: 15px;">âœ”</span><span style="color:black; margin-left: 5px; font-size: 14px;">ë‹´ë‹¹ì(ì´ë¦„)</span></label>
              <input class="form-control" name="managerName" id="managerName2" value="" placeholder="í•„ìˆ˜ ì…ë ¥">
            </div>
            
            <div class="form-group">
              <label style="font-weight: bold"><span style="color:red; font-size: 15px;">âœ”</span><span style="color:black; margin-left: 5px;font-size: 14px; margin-right: 10px;">ëŒ€í‘œ í’ˆëª©</span></label>
              <select name="middlecatagori" id="middlecatagori2" style="border-radius: 4px; height: 25px; font-weight: bold;">
                <option value="">ğŸŒ¾ ë¶„ë¥˜ ì„ íƒ</option>
                <option th:value="ê³¡ë¥˜" style="font-weight: bold;">ê³¡ë¥˜</option>
                <option th:value="ì½©ë¥˜" style="font-weight: bold;">ì½©ë¥˜</option>
                <option th:value="êµ¬ê·¼ë¥˜" style="font-weight: bold;">êµ¬ê·¼ë¥˜</option>
                <option th:value="ì±„ì†Œë¥˜" style="font-weight: bold;">ì±„ì†Œë¥˜</option>
                <option th:value="ê³¼ì‹¤ë¥˜" style="font-weight: bold;">ê³¼ì‹¤ë¥˜</option>
                <option th:value="ì¢…ì‹¤ë¥˜" style="font-weight: bold;">ì¢…ì‹¤ë¥˜</option>
                <option th:value="ë²„ì„¯ë¥˜" style="font-weight: bold;">ë²„ì„¯ë¥˜</option>
              </select>
              <input class="form-control" name="subdivision" id="subdivision2" value="" placeholder="í•„ìˆ˜ ì…ë ¥(ì†Œë¶„ë¥˜)">
            </div>
            
             <div class="form-group">
              <label><span style="color:black; margin-left: 5px; font-size: 14px;font-weight: bold;">ì˜ˆê¸ˆì£¼</span></label>
              <input class="form-control" name="accountName" id="accountName2" value="">
            </div>
            <div class="form-group">
              <label><span style="color:black; margin-left: 5px; font-size: 14px;font-weight: bold;">ì‚¬ì—…ì ë²ˆí˜¸</span></label>
              <input class="form-control" name="registNum" id="registNum2" value="">
            </div>
          </div>
          <div class="right-box">
           <div class="form-group">
              <label style="font-weight: bold"><span style="color:red; font-size: 15px;">âœ”</span><span style="color:black; margin-left: 5px; font-size: 14px;">ëŒ€í‘œëª…(ì´ë¦„)</span></label>
              <input class="form-control" name="customerName" id="customerName2" value="" placeholder="í•„ìˆ˜ ì…ë ¥">
            </div>
            <div class="form-group">
              <label style="font-weight: bold"><span style="color:red; font-size: 15px;">âœ”</span><span style="color:black; margin-left: 5px; font-size: 14px;">ì—°ë½ì²˜</span></label>
              <input class="form-control" name="customerTel" id="customerTel2" value="" placeholder="í•„ìˆ˜ ì…ë ¥">
            </div>
            <div class="form-group">
              <label><span style="color:black; margin-left: 5px; font-size: 14px;font-weight: bold;">ì€í–‰ëª…</span></label>
              <input class="form-control" name="bankName" id="bankName2" value="">
            </div>
            <div class="form-group">
              <label><span style="color:black; margin-left: 5px; font-size: 14px;font-weight: bold;">ê³„ì¢Œë²ˆí˜¸</span></label>
              <input class="form-control" name="accountNum" id="accountNum2" value="">
            </div>
            <div class="form-group">
              <label><span style="color:black; margin-left: 5px; font-size: 14px;font-weight: bold;">ì£¼ì†Œ</span></label>
              <input class="form-control" name="customerAddr" id="customerAddr2" value="" >
          	</div>
          </div>
          	<div class="form-group">
              <label><span style="color:black; margin-left: 5px; font-size: 14px;font-weight: bold;">ë©”ëª¨</span></label>
              <input class="form-control" name="memo" id="memo2" value="" style ="width:690px;">
            </div>
        </div>
        
        <div class="modal-footer" style="display: flex; align-items: center; justify-content: flex-end; width:100%;height:50px; background-color: #2A3F54;">
		    <button id="modalAddBtn" type="button" class="btn btn-warning" style="border: none; font-weight: bold; color:white; background: #035785; height: 30px;">ë“± ë¡</button>
		</div>
      </div>
    </form>
    </div>
  </div>
  <!-- /insert modal -->

  <script>
    $(document).ready(function () {
      var modal = $("#myModal");

      // ì…ë ¥ê°’ ì²˜ë¦¬
      var modalUserId = modal.find('input[name="userId"]');
      var modalCustomerId = modal.find('input[name="customerId"]'); // ì‚­ì œ
      
      var modalCustomer = modal.find('input[name="customer"]');
      var modalCustomerName = modal.find('input[name="customerName"]');
      var modalManagerName = modal.find('input[name="managerName"]');
      var modalCustomerTel = modal.find('input[name="customerTel"]');
      var modalCustomerAddr = modal.find('input[name="customerAddr"]');
      var modalAccountName = modal.find('input[name="accountName"]');
      var modalBankName = modal.find('input[name="bankName"]');
      var modalAccountNum = modal.find('input[name="accountNum"]');
      var modalMemo = modal.find('input[name="memo"]');
      var modalRegistNum = modal.find('input[name="registNum"]');
      var modalMiddlecatagori = modal.find('input[name="middlecatagori"]');
      var modalSubdivision = modal.find('input[name="subdivision"]');
      
      // ë²„íŠ¼ ì²˜ë¦¬
      var modalModBtn = $("#modalModBtn");
      var modalRemoveBtn = $("#modalRemoveBtn");
      var modalAddBtn = $("#modalAddBtn");

      // í´ë¦­í•˜ë©´ ëª¨ë‹¬ì°½(ìˆ˜ì •, ì‚­ì œ)
      // ul íƒœê·¸ í•˜ìœ„ì˜ ëª¨ë“  li -> pageê°€ ë¡œë”©ë˜ë©´ì„œ ì²˜ìŒ ìƒì„±ë˜ì–´ì§„ dom ìš”ì†Œê°€ ì¶”ê°€ëœ ê²½ìš°ì—ëŠ”
      // ìƒìœ„ ìš”ì†Œ(ul.chat)ì˜ ì´ë²¤íŠ¸ ë“±ë¡ ëŒ€ìƒì„ í•˜ìœ„ ìš”ì†Œì— ë“±ë¡
      $('.farm').on('click', 'tr', function (e) {
    	console.log($(this)[0]);
    	let tr = $(this)[0];
    	
    	modalUserId.val($(this)[0].children[1].textContent);
    	modalCustomerId.val($(this)[0].children[2].textContent); // ì‚­ì œ
    	
        modalCustomer.val($(this)[0].children[4].textContent);
        modalCustomerName.val($(this)[0].children[5].textContent);
        modalManagerName.val($(this)[0].children[6].textContent);
        modalCustomerTel.val($(this)[0].children[7].textContent);
        modalCustomerAddr.val($(this)[0].children[8].textContent);
        modalAccountName.val($(this)[0].children[9].textContent);
        modalBankName.val($(this)[0].children[10].textContent);
        modalAccountNum.val($(this)[0].children[11].textContent);
        modalMemo.val($(this)[0].children[12].textContent);
        modalRegistNum.val($(this)[0].children[13].textContent);
        modalMiddlecatagori.val($(this)[0].children[14].textContent);
        modalSubdivision.val($(this)[0].children[15].textContent);
        
        if ($(this)[0].children[14].textContent == 'ê³¡ë¥˜') {
        	$("#flag").val("ê³¡ë¥˜").prop("selected", true);
        } else if ($(this)[0].children[14].textContent == 'ì½©ë¥˜') {
        	$("#flag").val("ì½©ë¥˜").prop("selected", true);
        } else if ($(this)[0].children[14].textContent == 'êµ¬ê·¼ë¥˜') {
        	$("#flag").val("êµ¬ê·¼ë¥˜").prop("selected", true);
        } else if ($(this)[0].children[14].textContent == 'ì±„ì†Œë¥˜') {
        	$("#flag").val("ì±„ì†Œë¥˜").prop("selected", true);
        } else if ($(this)[0].children[14].textContent == 'ê³¼ì‹¤ë¥˜') {
        	$("#flag").val("ê³¼ì‹¤ë¥˜").prop("selected", true);
        } else if ($(this)[0].children[14].textContent == 'ì¢…ì‹¤ë¥˜') {
        	$("#flag").val("ì¢…ì‹¤ë¥˜").prop("selected", true);
        } else if ($(this)[0].children[14].textContent == 'ë²„ì„¯ë¥˜') {
        	$("#flag").val("ë²„ì„¯ë¥˜").prop("selected", true);
        }
		
		// ì‚­ì œ ë²„íŠ¼
		modalRemoveBtn.on('click', function() {
			let customerId = modalCustomerId.val();
            
			Swal.fire({
	               title: 'ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',
	               text: "ë‹¤ì‹œ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‹ ì¤‘í•˜ì„¸ìš”.",
	               icon: 'warning',
	               showCancelButton: true,
	               confirmButtonColor: '#3085d6',
	               cancelButtonColor: '#d33',
	               confirmButtonText: 'ì‚­ì œ',
	               cancelButtonText: 'ì·¨ì†Œ'
	           }).then((result) => {
	               if (result.isConfirmed) {
	                   
	                   $.ajax({
	                       type : 'get',
	                       url : "/ohnong/customerDelete/" + customerId,
	                       dataType : 'text',
	                       success : function(data) {
	                           console.log(data);
	                           if(data == 'success') {
	                           const Toast = Swal.mixin({
	                               toast: true,
	                               position: 'center-center',
	                               showConfirmButton: false,
	                               timer: 2000,
	                               timerProgressBar: true,
	                               didOpen: (toast) => {
	                                 toast.addEventListener('mouseenter', Swal.stopTimer)
	                                 toast.addEventListener('mouseleave', Swal.resumeTimer)
	                               }
	                             })
	                             Toast.fire({
	                               icon: 'success',
	                               title: 'ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.'
	                             })
	                           } else if(data = 'fail') {
	                               alert("ë‹¤ì‹œ ì‹œë„ ë°”ëë‹ˆë‹¤.")
	                           }
	                       },
	                       error : function(status, error) {
	                           console.log(status, error);
	                       }
	                   })
	                   
	                   setTimeout("location.reload()", 2000);
	                   Swal.fire(
	                       'ì‚­ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.',
	                       'success'
	                   )
	               }
	           })

        })
      }) // $('.farm').on('click', 'tr', function (e) ë
      
	   	  // ì—°ë½ì²˜
	      $('#customerTel').keyup(function() {
	          $(this).val( $(this).val().replace(/[^0-9]/g, "").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})$/,"$1-$2-$3").replace("--", "-"));
	      }) 
      
	      // ë“±ë¡ ë²„íŠ¼
	      modalAddBtn.on('click', function() {
	    	  var customer = $('#customer2').val();
	    	  var userId = $('#userId2').val();
	    	  
	    	  if($('#customer2').val() == '' || $('#managerName2').val() == ''
	            	|| $('#customerName2').val() == '' || $('#customerTel2').val() == '' 
	            	|| $('#middlecatagori2').val() == '' || $('#subdivision2').val() == '') {
		    		  const Toast = Swal.mixin({
		                    toast: true,
		                    position: 'center-center',
		                    showConfirmButton: false,
		                    timer: 1500,
		                    timerProgressBar: true,
		                    didOpen: (toast) => {
		                      toast.addEventListener('mouseenter', Swal.stopTimer)
		                      toast.addEventListener('mouseleave', Swal.resumeTimer)
		                    }
		                  })
	
		                  Toast.fire({
		                    icon: 'info',
		                    title: 'ì…ë ¥ê°’ì„ ëª¨ë‘ ì ì–´ì£¼ì„¸ìš”.'
		                  })
	
		                return false;
	      	  }
	    	  
	      	  // ì¤‘ë³µ ê²€ì‚¬
	    	  $.ajax({
	    	        type : 'get',
	    	        url : '/ohnong/checkCustomer', // ì„œë²„ ìš”ì²­ url
	    	        dataType : 'text', // ì„œë²„ë¡œë¶€í„° ì‘ë‹µë°›ì„ ë°ì´í„° í˜•íƒœ 
	    	        data : {"customer" : customer,
	    	        		"userId" : userId}, // ì„œë²„ë¡œ ì „ì†¡í•  ë°ì´í„°. const id
	    	        success : function(result) { // í†µì‹  ì„±ê³µ ì‹œ ë§¤ê°œë³€ìˆ˜ì— ë°ì´í„° ì €ì¥
	    	            console.log('í†µì‹  ì„±ê³µ ' + result);
	    	            if(result === 'available') {
	    	            	form2.submit();
	    	            } else {

	    	            	const Toast = Swal.mixin({
			                    toast: true,
			                    position: 'center-center',
			                    showConfirmButton: false,
			                    timer: 1500,
			                    timerProgressBar: true,
			                    didOpen: (toast) => {
			                      toast.addEventListener('mouseenter', Swal.stopTimer)
			                      toast.addEventListener('mouseleave', Swal.resumeTimer)
			                    }
			                  })
		
			                  Toast.fire({
			                    icon: 'warning',
			                    title: 'ì´ë¯¸ ë“±ë¡ëœ ê±°ë˜ì²˜ì…ë‹ˆë‹¤.'
			                  })
	    	            	
	    	                false;
	    	            }
	    	        },
	    	        error : function(status, error) {
	    	            console.log('í†µì‹  ì‹¤íŒ¨');
	    	            console.log(status, error);
	    	        }
	    	  })
	      })
	      
	      // ìˆ˜ì • ë²„íŠ¼
	      modalModBtn.on('click', function(e) {
	    	  var customer = modalCustomer.val();
	    	  var userId = modalUserId.val();
	    	  
	    	  if(modalCustomer.val() == '' || modalManagerName.val() == ''
	            	|| modalCustomerName.val() == '' || modalCustomerTel.val() == '' 
	            	|| modalMiddlecatagori.val() == '' || modalSubdivision.val() == '') {
		    		  const Toast = Swal.mixin({
		                    toast: true,
		                    position: 'center-center',
		                    showConfirmButton: false,
		                    timer: 2000,
		                    timerProgressBar: true,
		                    didOpen: (toast) => {
		                      toast.addEventListener('mouseenter', Swal.stopTimer)
		                      toast.addEventListener('mouseleave', Swal.resumeTimer)
		                    }
		                  })
	
		                  Toast.fire({
		                    icon: 'info',
		                    title: 'ì…ë ¥ê°’ì„ ëª¨ë‘ ì ì–´ì£¼ì„¸ìš”.'
		                  })
		                return false;
	      	  } else {
	    	  	form1.submit();
	      	  }
	      })
    }) // document ë

    // ëª¨ë‹¬
    function updateForm() {
      console.log('updateForm');
      $('#myModal').modal("show");
    }
    
    // ë“±ë¡ ëª¨ë‹¬
    $('#button').on("click", function() {
    	console.log('c');
    	$('#myModal2').modal("show");
    })
    
    function changeSelect() {
	  	$("#middlecatagori").val("");
	  	
	  	var selectvalue = "";
	  	selectvalue = $('#flag').val();
	  	
	  	$("#middlecatagori").val(selectvalue);
  	}
    
  </script>
</div>